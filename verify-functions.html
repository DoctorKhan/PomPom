<!DOCTYPE html>
<html>
<head>
    <title>Test Function Verification</title>
    <script src="firebase-config.js"></script>
    <script src="src/sound.js"></script>
</head>
<body>
    <h1>Function Verification Test</h1>
    <div id="results"></div>

    <script>
        const results = document.getElementById('results');

        function addResult(test, passed, message) {
            const div = document.createElement('div');
            div.style.margin = '10px 0';
            div.style.padding = '10px';
            div.style.border = '1px solid #ccc';
            div.style.borderRadius = '5px';
            div.style.backgroundColor = passed ? '#d4edda' : '#f8d7da';
            div.innerHTML = `<strong>${test}:</strong> ${passed ? 'PASS' : 'FAIL'} - ${message}`;
            results.appendChild(div);
        }

        // Test Firebase config
        setTimeout(() => {
            try {
                const firebaseLoaded = typeof window.__firebase_config !== 'undefined';
                addResult('Firebase Config', firebaseLoaded, firebaseLoaded ? 'Firebase config is loaded' : 'Firebase config is NOT loaded');
            } catch (e) {
                addResult('Firebase Config', false, `Error: ${e.message}`);
            }

            // Test sound functions
            try {
                const playMeetingRing = typeof window.playMeetingRing === 'function';
                addResult('playMeetingRing', playMeetingRing, playMeetingRing ? 'Function is defined' : 'Function is NOT defined');

                const playGong = typeof window.playGong === 'function';
                addResult('playGong', playGong, playGong ? 'Function is defined' : 'Function is NOT defined');

                const playDing = typeof window.playDing === 'function';
                addResult('playDing', playDing, playDing ? 'Function is defined' : 'Function is NOT defined');
            } catch (e) {
                addResult('Sound Functions', false, `Error: ${e.message}`);
            }

            // Test meet.js (this will be async)
            setTimeout(() => {
                try {
                    const meetLoaded = typeof window.__createHandleStartMeet !== 'undefined';
                    addResult('meet.js Module', meetLoaded, meetLoaded ? 'Module loaded successfully' : 'Module not loaded');
                } catch (e) {
                    addResult('meet.js Module', false, `Error: ${e.message}`);
                }
            }, 1000);
        }, 500);
    </script>
</body>
</html>
